"use strict";(self.webpackChunkelements_demo=self.webpackChunkelements_demo||[]).push([[592],{5821:(g,d,e)=>{e.d(d,{x:()=>T});var t=e(3668),c=e(6019),h=e(1346),E=e(4099),p=e(8548),_=e(1915),f=e(172),v=e(5686),u=e(9204),M=e(2047),L=e(4421),C=e(3028);let T=(()=>{class n{constructor(r,o,s,i,l,m){this.platformId=r,this.vcr=o,this.template=s,this.elementsLoaderService=i,this.cfr=l,this.cdr=m,this.url=null,this.loadingTemplateRef=null,this.errorTemplateRef=null,this.isModule=!1,this.importMap=!1,this.viewRef=null,this.subscription=h.w.EMPTY,this.url$=new E.X(null)}ngOnChanges(r){r.url&&this.url$.next(this.url)}ngOnInit(){(0,c.PM)(this.platformId)||this.setupUrlListener()}ngOnDestroy(){this.subscription.unsubscribe()}destroyEmbeddedView(){this.viewRef&&!this.viewRef.destroyed&&(this.viewRef.detach(),this.viewRef.destroy(),this.viewRef=null)}setupUrlListener(){const r=this.template,o=r._declarationTContainer?r._declarationTContainer.tagName||r._declarationTContainer.value:r._def.element.template.nodes[0].element.name,s=this.elementsLoaderService.getElementConfig(o)||{},i=this.elementsLoaderService.options,l=s.loadingComponent||i.loadingComponent;this.subscription=this.url$.pipe((0,v.b)(0,p.Z),(0,u.w)(m=>{if(this.loadingTemplateRef)this.vcr.createEmbeddedView(this.loadingTemplateRef);else if(l){const a=this.cfr.resolveComponentFactory(l);this.vcr.createComponent(a)}return(0,_.D)(this.elementsLoaderService.loadElement(m,o,this.isModule,this.importMap,null==s?void 0:s.hooks)).pipe((0,M.K)(()=>{this.vcr.clear();const a=s.errorComponent||i.errorComponent;if(this.errorTemplateRef)this.vcr.createEmbeddedView(this.errorTemplateRef),this.cdr.markForCheck();else if(a){const R=this.cfr.resolveComponentFactory(a);this.vcr.createComponent(R),this.cdr.markForCheck()}return f.E}))}),(0,L.zg)(()=>customElements.whenDefined(o))).subscribe({next:()=>{this.vcr.clear(),this.viewRef=this.vcr.createEmbeddedView(this.template),this.cdr.markForCheck()}})}}return n.\u0275fac=function(r){return new(r||n)(t.Y36(t.Lbi),t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(C.$),t.Y36(t._Vd),t.Y36(t.sBO))},n.\u0275dir=t.lG2({type:n,selectors:[["","axLazyElement",""]],inputs:{url:["axLazyElement","url"],loadingTemplateRef:["axLazyElementLoadingTemplate","loadingTemplateRef"],errorTemplateRef:["axLazyElementErrorTemplate","errorTemplateRef"],isModule:["axLazyElementModule","isModule"],importMap:["axLazyElementImportMap","importMap"]},features:[t.TTD]}),n})()}}]);